{
  extends: [
    'config:recommended',
  ],
  packageRules: [
    {
      description: 'Update Docker images in Kubernetes manifests',
      matchDatasources: [
        'docker',
      ],
      matchManagers: [
        'custom.regex',
      ],
      extractVersion: '^image: [\\w\\.-]+/[\\w\\.-]+:([\\w\\.-]+)$',
      datasourceTemplate: 'docker',
      matchPackageNames: [
        '/^image: ([\\w\\.-]+/[\\w\\.-]+):([\\w\\.-]+)$/',
      ],
    },
    {
      description: 'Update Helm charts in Kubernetes manifests',
      matchDatasources: [
        'helm',
      ],
      matchManagers: [
        'helm-requirements',
      ],
      extractVersion: '^version: ([\\w\\.-]+)$',
      datasourceTemplate: 'helm',
      matchPackageNames: [
        '/^name: ([\\w-]+)$/',
      ],
    },
    {
      description: 'Update Kubernetes API versions',
      matchDatasources: [
        'kubernetes',
      ],
      matchManagers: [
        'custom.regex',
      ],
      extractVersion: '^apiVersion: [\\w\\.-]+/([\\w\\.-]+)$',
      datasourceTemplate: 'kubernetes',
      matchPackageNames: [
        '/^apiVersion: ([\\w\\.-]+)/([\\w\\.-]+)$/',
      ],
    },
  ],
  customManagers: [
    {
      customType: 'regex',
      managerFilePatterns: [
        '/\\.ya?ml$/',
      ],
      matchStrings: [
        'image: (?<depName>[\\w\\.-]+/[\\w\\.-]+):(?<currentValue>[\\w\\.-]+)',
      ],
      datasourceTemplate: 'docker',
    },
    {
      customType: 'regex',
      managerFilePatterns: [
        '/Chart\\.yaml$/',
        '/requirements\\.yaml$/',
      ],
      matchStrings: [
        'name: (?<depName>[\\w-]+)\\nversion: (?<currentValue>[\\w\\.-]+)',
      ],
      datasourceTemplate: 'helm',
    },
  ],
}
